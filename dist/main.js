!function(n){var i={};function a(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,a),e.l=!0,e.exports}a.m=n,a.c=i,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=0)}([function(t,e,n){"use strict";n.r(e);var a="#96A2AA",r="#ECF0F3",o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],c=[{date:"12-01-2018",joined:134,left:13},{date:"12-02-2018",joined:45,left:32},{date:"12-03-2018",joined:12,left:23},{date:"12-04-2018",joined:150,left:41},{date:"12-05-2018",joined:230,left:10},{date:"12-06-2018",joined:134,left:45},{date:"12-07-2018",joined:87,left:12},{date:"12-08-2018",joined:129,left:76}];function s(t,a){var e=t.reduce(function(t,e,n,i){return e[a]>i[t][a]?n:t},0);return t[e]}function h(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i=function(){function t(){var h=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,"setup",function(t){var e=t.showJoined,n=t.showLeft;h.chart={},h.dpi=window.devicePixelRatio,h.canvas=document.createElement("canvas"),h.canvas.id="main_chart",h.canvas.addEventListener("mousemove",h.onMouseMove),document.getElementById("app").appendChild(h.canvas),h.canvas.style="\n            width: 100%;\n            height: 100%;\n        ",h.ctx=h.canvas.getContext("2d"),h.resize(),h.update({showJoined:e,showLeft:n})}),u(this,"fix_dpi",function(){var t=document.getElementById("main_chart"),e=function(){return+getComputedStyle(t).getPropertyValue("height").slice(0,-2)},n=function(){return+getComputedStyle(t).getPropertyValue("width").slice(0,-2)};h.canvas.setAttribute("width",n()*h.dpi),h.canvas.setAttribute("height",e()*h.dpi),h.ctx.scale(h.dpi,h.dpi)}),u(this,"update",function(t){var e,n,i,a=t.showJoined,r=t.showLeft;(h.maxJoinedNum=a?s(c,"joined").joined:0,h.maxLeftNum=r?s(c,"left").left:0,h.maxNum=Math.max(h.maxJoinedNum,h.maxLeftNum),0!==h.maxNum)&&(h.maxValueY=(e=h.maxNum,n=Math.max(10,Math.pow(10,e.toString().length-1)),i=Math.ceil(e/n)*n,Math.max(i,Math.round(e/n)*n)),h.itemsNum=c.length,h.currentItemsPositions=function(t,e,n){var i=[];i[0]=t;for(var a=Math.round(e/n),r=1;r<n;r++)i[r]=i[r-1]+a;return i}(),h.ctx.clearRect(0,0,h.canvas.width,h.canvas.height),h.drawGridLines(),h.drawDatesLegend(c),a&&h.drawChart(c,"joined","#3CC23F"),r&&h.drawChart(c,"left","#F34C44"),h.drawAxis(c),h.hoverItem&&h.drawHoverGrid())}),u(this,"onMouseMove",function(t){var e,n=t.x,i=t.y,a=h.chart,r=h.canvas.getBoundingClientRect(),o=n-Math.round(r.left),c=i-Math.round(r.top);c<a.maxH&&c>a.minH&&o>a.minW&&o<a.maxW&&(h.hoverItem=(e=o,h.currentItemsPositions.map(function(t){return Math.abs(t-e)}).reduce(function(t,e,n,i){return e<i[t]?n:t},0)),requestAnimationFrame(h.update))})}var e,n,i;return e=t,(n=[{key:"resize",value:function(){var t=window,e=t.innerWidth,n=t.innerHeight;this.canvas.width=e,this.canvas.height=n*this.dpi,this.chart.minW=Math.round(.05*e),this.chart.maxW=Math.round(.95*e),this.chart.minH=Math.round(.05*n),this.chart.maxH=Math.round(.95*n),this.chart.width=e,this.chart.height=n}},{key:"drawAxis",value:function(){this.ctx.lineWidth=1,this.ctx.beginPath(),this.ctx.moveTo(this.chart.minW,this.chart.maxH),this.ctx.lineTo(this.chart.maxW,this.chart.maxH),this.ctx.strokeStyle=r,this.ctx.stroke()}},{key:"drawDatesLegend",value:function(t){var r=this;this.ctx.font="".concat(.03*this.chart.height,"px -apple-system"),this.ctx.fillStyle=a,t.map(function(t,e){var n=r.chart.minW+e*r.chart.width/r.itemsNum,i=new Date(t.date),a=o[i.getMonth()]+" "+i.getDate();r.ctx.fillText(a,n,r.chart.maxH+.03*r.chart.height)})}},{key:"drawGridLines",value:function(){this.ctx.font="".concat(.03*this.chart.height,"px -apple-system"),this.ctx.strokeStyle=r,this.ctx.fillStyle=a;for(var t=1;t<=5;t++){var e=this.chart.maxH-t*this.chart.height/5,n=this.maxValueY*t/5;this.ctx.fillText(n,this.chart.minW,e-.02*this.chart.height),this.ctx.beginPath(),this.ctx.moveTo(this.chart.minW,e),this.ctx.lineTo(this.chart.maxW,e),this.ctx.stroke()}this.ctx.fillText(0,this.chart.minW,this.chart.maxH-.02*this.chart.height)}},{key:"drawChart",value:function(t,a,r){var o=this,c=this.chart,h=this.itemsNum,s=this.hoverItem;this.ctx.beginPath(),this.ctx.moveTo(c.minW,c.maxH),t.map(function(t,e){var n=c.height-(t[a]/o.maxValueY*c.height+c.minH),i=c.minW+e/h*c.width;0===e?o.ctx.moveTo(i,n):o.ctx.lineTo(i,n),s&&s===e&&o.drawHoverPoint(i,n,r)}),this.ctx.lineCap="round",this.ctx.strokeStyle=r,this.ctx.lineWidth=3,this.ctx.stroke()}},{key:"drawHoverPoint",value:function(t,e,n){ctx.closePath(),ctx.beginPath(),ctx.arc(t,e,5,0,2*Math.PI,!1),ctx.closePath(),ctx.strokeStyle="#FFFFFF",ctx.beginPath(),ctx.arc(t,e,2,0,2*Math.PI,!1),ctx.moveTo(t,e),ctx.strokeStyle=n}},{key:"drawHoverGrid",value:function(){var t=chart.minW+hoverItem/itemsNum*chart.width;ctx.lineWidth=1,ctx.strokeStyle="#DFE6EB",ctx.beginPath(),ctx.moveTo(t,chart.maxH),ctx.lineTo(t,chart.minH),ctx.stroke()}}])&&h(e.prototype,n),i&&h(e,i),t}(),d=document.querySelectorAll("input[type=checkbox]");d.forEach(function(t){t.addEventListener("change",x)});var l=d[0].checked,m=d[1].checked,f=new i;function x(t){"joined_checkbox"===t.target.name?l=t.target.checked:m=t.target.checked,f.update({showJoined:l,showLeft:m})}window.addEventListener("load",function(){return f.setup({showJoined:l,showLeft:m})}),window.addEventListener("resize",function(){return requestAnimationFrame(f.resize)})}]);