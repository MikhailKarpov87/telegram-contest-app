!function(a){var r={};function __webpack_require__(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return a[t].call(e.exports,e,e.exports,__webpack_require__),e.l=!0,e.exports}__webpack_require__.m=a,__webpack_require__.c=r,__webpack_require__.d=function(t,e,a){__webpack_require__.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},__webpack_require__.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.t=function(e,t){if(1&t&&(e=__webpack_require__(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(__webpack_require__.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)__webpack_require__.d(a,r,function(t){return e[t]}.bind(null,r));return a},__webpack_require__.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return __webpack_require__.d(e,"a",e),e},__webpack_require__.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=0)}([function(t,e,a){"use strict";a.r(e);var r={dayMode:{axisFontColor:function(t){return"rgba(150, 162, 170, ".concat(t,")")},axisLinesColor:"#ECF0F3",hoverLineColor:"#DFE6EB",bgColor:"#FFFFFF",navOverlayColor:"rgba(242, 247, 249, 0.85)",sliderColor:"rgba(193, 214, 229, 0.7)",tooltipBgColor:"#FFFFFF",tooltipColor:"#222222",tooltipShadow:"0px 1px 3px 0px #b4b2b4"},nightMode:{axisFontColor:function(t){return"rgba(84, 103, 120, ".concat(t,")")},axisLinesColor:"#303e4f",hoverLineColor:"#3b4a5a",bgColor:"#242F3E",navOverlayColor:"rgba(31, 42, 56, 0.85)",sliderColor:"rgba(64, 86, 107, 0.7)",tooltipBgColor:"#253241",tooltipColor:"#FFFFFF",tooltipShadow:"0px 1px 3px 0px #1e2834"}},n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function _toConsumableArray(t){return function(t){if(Array.isArray(t)){for(var e=0,a=new Array(t.length);e<t.length;e++)a[e]=t[e];return a}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _defineProperties(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _defineProperty(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var i=function(){function Chart(t){var o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Chart),_defineProperty(this,"setup",function(t){o.canvas=document.createElement("canvas"),o.canvas.id=o.name,o.canvas.addEventListener("mousemove",o.onMove),o.canvas.addEventListener("touchmove",o.onMove),(o.name="nav_chart_controls")&&(o.canvas.addEventListener("scroll",o.onScroll),o.canvas.addEventListener("mousedown",o.onDown),o.canvas.addEventListener("touchstart",o.onDown),o.canvas.addEventListener("mouseup",o.onUp),o.canvas.addEventListener("touchend",o.onUp),o.canvas.addEventListener("mouseleave",o.onLeave)),(o.name="main_chart")&&o.canvas.addEventListener("mouseleave",o.onLeave),o.ctx=o.canvas.getContext("2d"),o.container.appendChild(o.canvas),o.controlsDiv=t,o.resize()}),_defineProperty(this,"resize",function(){console.log(o.controlsDiv.clientHeight);var t=window,e=t.innerWidth,a=t.innerHeight,r=Math.round(1*e),n=Math.round(1*(a-o.controlsDiv.clientHeight-50)*o.ratio);o.container.style.width=r+"px",o.container.style.height=n+"px",o.canvas.width=r*o.pixelRatio,o.canvas.height=n*o.pixelRatio,o.chart.startX=Math.round(.05*o.canvas.width),o.chart.endX=Math.round(.95*o.canvas.width),o.chart.endY=Math.round(.12*o.canvas.height),o.chart.startY=Math.round(.85*o.canvas.height),o.chart.width=o.chart.endX-o.chart.startX,o.chart.height=o.chart.startY-o.chart.endY,o.canvas.id="main_chart",o.update(o.start,o.end)}),_defineProperty(this,"onMove",function(){}),_defineProperty(this,"onDown",function(){}),_defineProperty(this,"onUp",function(){}),_defineProperty(this,"onLeave",function(){}),this.chart={},this.coords={},this.ratio=t.ratio,this.data=t.data,this.name=t.name,this.lineWidth=4,this.start=t.start,this.end=t.end,this.diff=0,this.colors=r.dayMode,this.range=(this.end-this.start).toFixed(5),this.sCharts=t.selectedCharts,this.pixelRatio=window.devicePixelRatio||1,this.container=t.container,this.an={animDates:1,animChart:100,animFadeChart:100,fadeInChart:null,fadeOutChart:null}}var t,e,a;return t=Chart,(e=[{key:"makeAnimations",value:function(){var t=this;this.maxNum=this.getMaxValue(this.data,this.firstItemId,this.lastItemId),this.newMaxValueY=this.getYAxisMaxValue(this.maxNum),this.maxValueY||(this.maxValueY=this.newMaxValueY),Math.round(this.newMaxValueY)!==Math.round(this.maxValueY)&&(100===this.an.animChart&&(this.diff=this.newMaxValueY-this.maxValueY,this.startValue=this.maxValueY),this.maxValueY=Math.round(this.startValue+this.diff*(100-this.an.animChart)/100),requestAnimationFrame(function(){return t.update(t.start,t.end)}),this.an.animChart-=1),this.an.animFadeChart<100&&(this.an.animFadeChart-=4,this.an.animFadeChart<=0&&(this.an.fadeOutChart&&this.sCharts.includes(this.an.fadeOutChart)&&this.sCharts.splice(this.sCharts.indexOf(this.an.fadeOutChart),1),this.an.animFadeChart=100,this.an.fadeInChart=null,this.an.fadeOutChart=null)),this.an.animChart<=0&&(this.an.animChart=100,this.maxValueY=this.newMaxValueY)}},{key:"drawErrorMessage",value:function(){this.ctx.save();var t=2*Math.round(14*+this.pixelRatio);this.ctx.font="300 ".concat(t,"px BlinkMacSystemFont"),this.ctx.fillStyle=this.colors.axisFontColor(1),this.ctx.textAlign="center";var e=Math.round(this.chart.startX+this.chart.width/2),a=Math.round(this.chart.height/2);this.ctx.fillText("No charts selected :(",e,a),this.ctx.restore()}},{key:"calcChartData",value:function(t,e,a){var n=this,o=this.chart,i=[],r=this.spaceBetween/this.chart.width;this.startX=r<e?0:this.chart.startX-(o.width+this.chart.startX)*e,this.endX=.99<a?o.endX:this.canvas.width,this.firstItemId=Math.floor(e*t.length);var s=1/t.length;this.startFraction=1-(e-s*this.firstItemId)/s;var h=t[this.firstItemId],c=h+(t[this.firstItemId+1]-h)*(1-this.startFraction);this.lastItemId=Math.ceil(a*t.length);var l=1-(s*this.lastItemId-a)/s,u=t.slice(this.firstItemId,this.lastItemId),d=u.length-1,f=u[d]+(u[d-1]-u[d])*(1-l);this.spaceBetween=(this.endX-this.startX)/(u.length-3+this.startFraction+l);var p=Math.round(o.startY-c/this.maxValueY*o.height),v=Math.round(this.startX),m=Math.round(o.startY-f/this.maxValueY*o.height),_=Math.round(this.endX);return u.map(function(t,e){var a=Math.round(o.startY-t/n.maxValueY*o.height),r=Math.round(n.startX+(e-1+n.startFraction)*n.spaceBetween);i.push({x:r,y:a})}),i[0]={x:v,y:p},i[d]={x:_,y:m},i}},{key:"drawChart",value:function(t,e,a){var n=this,r=this.chart;this.ctx.save(),e===this.an.fadeOutChart&&this.an.animFadeChart&&(this.ctx.globalAlpha=(this.an.animFadeChart/100).toFixed(3)),e===this.an.fadeInChart&&this.an.animFadeChart&&(this.ctx.globalAlpha=1-(this.an.animFadeChart/100).toFixed(3)),this.ctx.beginPath(),this.ctx.moveTo(r.startX,r.startY),t.map(function(t,e){var a=t.x,r=t.y;0===e?n.ctx.moveTo(a,r):n.ctx.lineTo(a,r)},0),this.ctx.lineCap="round",this.ctx.strokeStyle=a,this.ctx.lineWidth=this.lineWidth,this.ctx.stroke(),this.ctx.restore()}},{key:"updateSelectedCharts",value:function(t,e){var a=this;this.an.fadeInChart=null,this.an.fadeOutChart=null,this.hoverItem=null,t&&!this.sCharts.includes(e)&&(this.an.fadeInChart=e,this.an.animFadeChart-=1,this.sCharts.push(this.an.fadeInChart)),!t&&this.sCharts.includes(e)&&(this.an.fadeOutChart=e,this.an.animFadeChart-=1),requestAnimationFrame(function(){return a.update(a.start,a.end)})}},{key:"getMaxValue",value:function(e,a,r){var t=_toConsumableArray(this.sCharts);return this.an.fadeOutChart&&t.includes(this.an.fadeOutChart)&&t.splice(t.indexOf(this.an.fadeOutChart),1),this.an.fadeInChart&&!t.includes(this.an.fadeInChart)&&t.push(this.an.fadeInChart),Math.max.apply(Math,_toConsumableArray(t.map(function(t){return Math.max.apply(Math,_toConsumableArray(e.columns[t].slice(a,r)))})))}},{key:"getYAxisMaxValue",value:function(t){var e=Math.max(10,Math.pow(10,t.toString().length-1)),a=Math.ceil(t/e)*e;return Math.max(a,Math.round(t/e)*e)}},{key:"findClosestItem",value:function(e,t){return t.map(function(t){return Math.abs(t.x-e)}).reduce(function(t,e,a,r){return e<r[t]?a:t},0)}},{key:"switchNightMode",value:function(t){var e=this;this.colors=t?r.nightMode:r.dayMode,this.tooltip&&(this.tooltip.style.backgroundColor=this.colors.tooltipBgColor,this.tooltip.style.color=this.colors.tooltipColor,this.tooltip.style.mozBoxShadow=this.colors.tooltipShadow,this.tooltip.style.webkitBoxShadow=this.colors.tooltipShadow,this.tooltip.style.boxShadow=this.colors.tooltipShadow),requestAnimationFrame(function(){return e.update(e.start,e.end)})}}])&&_defineProperties(t.prototype,e),a&&_defineProperties(t,a),Chart}();function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function main_chart_defineProperties(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function main_chart_defineProperty(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var C=function(t){function MainChart(t){var s,e,a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,MainChart),e=this,a=_getPrototypeOf(MainChart).call(this,t),main_chart_defineProperty(_assertThisInitialized(s=!a||"object"!==_typeof(a)&&"function"!=typeof a?_assertThisInitialized(e):a),"update",function(e,a){s.ctx.clearRect(0,0,s.canvas.width,s.canvas.height);var t=(a-e).toFixed(5);if(s.start=e,s.end=a,s.dates||(s.dates=s.updateDatesObject(e,a,s.allDates)),t!==s.range&&(s.updateDatesObject(e,a,s.dates),s.range=t),Object.keys(s.dates).length===Object.keys(s.newDates).length||s.prevDates||(s.prevDates=s.dates,s.dates=s.newDates),s.makeAnimations(),s.drawMainAxis(),!s.sCharts.length)return s.hideTooltip(),void s.drawErrorMessage();s.drawYAxis(),s.sCharts.map(function(t){s.coords[t]=s.calcChartData(s.data.columns[t],e,a),null!==s.hoverItem&&s.drawHoverGrid(s.coords[t][s.hoverItem].x),s.drawChart(s.coords[t],t,s.data.colors[t]),null!==s.hoverItem?(s.drawHoverPoint(s.coords[t][s.hoverItem],s.data.colors[t]),s.showTooltip()):s.hideTooltip()}),!s.prevDates&&s.drawDatesLine(s.dates,1),s.prevDates&&(s.animation=Object.keys(s.prevDates).length>Object.keys(s.dates).length?"fadeOut":"fadeIn","fadeOut"===s.animation&&(s.drawDatesLine(s.dates,1),s.drawDatesLine(s.prevDates,s.an.animDates)),"fadeIn"===s.animation&&(s.drawDatesLine(s.dates,1-s.an.animDates),s.drawDatesLine(s.prevDates,1)),s.an.animDates=(s.an.animDates-.02).toFixed(3),requestAnimationFrame(function(){return s.update(s.start,s.end)}),s.an.animDates<=0&&(s.an.animDates=1,s.prevDates=null,s.animation=null)),(s.an.animFadeChart<100||s.an.animChart<100)&&requestAnimationFrame(function(){return s.update(s.start,s.end)})}),main_chart_defineProperty(_assertThisInitialized(s),"onMove",function(t){t.preventDefault();var e=t.touches?t.touches[0].pageX:t.x,a=t.touches?t.touches[0].pageY:t.y,r=_assertThisInitialized(s).chart,n=s.canvas.getBoundingClientRect(),o=(e-Math.round(n.left))*s.pixelRatio,i=(a-Math.round(n.top))*s.pixelRatio;s.sCharts.length&&i<r.startY&&i>r.endY&&o>r.startX&&o<r.endX&&(s.hoverItem=s.findClosestItem(o,s.coords[s.sCharts[0]]),requestAnimationFrame(function(){return s.update(s.start,s.end)}))}),main_chart_defineProperty(_assertThisInitialized(s),"onNavChange",function(t,e){s.hoverItem=null,requestAnimationFrame(function(){return s.update(t,e)})}),main_chart_defineProperty(_assertThisInitialized(s),"createDatesObject",function(t){var r={};return t.map(function(t,e){var a=new Date(t);r[e]=n[a.getMonth()]+" "+a.getDate()}),r}),s.hoverItem=null,s.dateItemsToShow=6,s.nthDate=1,s.newDates={},s.prevDates={},s.nthDate=0,s.allDates=s.createDatesObject(t.data.columns.x),s.itemsNum=s.allDates.length,s.updateDatesObject(s.start,s.end,s.allDates),s.createTooltip(),s}var e,a,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}(MainChart,i),e=MainChart,(a=[{key:"drawMainAxis",value:function(){this.ctx.lineWidth=2,this.ctx.beginPath(),this.ctx.moveTo(this.chart.startX,this.chart.startY),this.ctx.lineTo(this.chart.endX,this.chart.startY),this.ctx.strokeStyle=this.colors.axisLinesColor,this.ctx.stroke()}},{key:"drawDatesLine",value:function(r,t){var n=this;this.ctx.save();var o=Math.round(14*+this.pixelRatio);this.ctx.font="300 ".concat(o,"px BlinkMacSystemFont"),this.ctx.fillStyle=this.colors.axisFontColor(t);var i=this.firstItemId-1;this.coords[this.sCharts[0]].map(function(t,e){if(r[++i]){var a=Math.round(n.startX-35+(e-1+n.startFraction)*n.spaceBetween);n.ctx.fillText(r[i],a,n.chart.startY+1.5*o)}}),this.ctx.restore()}},{key:"drawYAxis",value:function(){var t=Math.round(14*+this.pixelRatio);this.ctx.lineWidth=1,this.ctx.font="300 ".concat(t,"px BlinkMacSystemFont"),this.ctx.strokeStyle=this.colors.axisLinesColor,this.ctx.fillStyle=this.colors.axisFontColor(1);for(var e=1;e<=5;e++){var a=this.chart.startY-e*this.chart.height/5,r=this.maxValueY*e/5;this.ctx.fillText(r,this.chart.startX,a-.5*t),this.ctx.beginPath(),this.ctx.moveTo(this.chart.startX,a),this.ctx.lineTo(this.chart.endX,a),this.ctx.stroke()}this.ctx.fillText(0,this.chart.startX,this.chart.startY-.5*t)}},{key:"drawHoverPoint",value:function(t,e){var a=this.ctx,r=t.x,n=t.y;a.beginPath(),a.strokeStyle=e,a.lineWidth=4,a.moveTo(r,n),a.arc(r,n,8,0,2*Math.PI,!1),a.stroke(),a.beginPath(),a.lineWidth=1,a.fillStyle=this.colors.bgColor,a.arc(r,n,6,0,2*Math.PI,!1),a.fill()}},{key:"drawHoverGrid",value:function(t){var e=this.ctx,a=this.chart;e.lineWidth=1,e.strokeStyle=this.colors.hoverLineColor,e.beginPath(),e.moveTo(t,a.startY),e.lineTo(t,a.endY),e.stroke()}},{key:"createTooltip",value:function(){this.tooltip=document.createElement("div"),this.tooltip.className="tooltip",this.tooltipDate=document.createElement("div"),this.tooltipDate.className="tooltip-date",this.tooltipInfo=document.createElement("div"),this.tooltipInfo.className="tooltip-info",this.tooltip.appendChild(this.tooltipDate),this.tooltip.appendChild(this.tooltipInfo),this.tooltip.style.backgroundColor=this.colors.tooltipBgColor,this.tooltip.style.color=this.colors.tooltipColor,this.tooltip.style.display="none",this.tooltip.style.mozBoxShadow=this.colors.tooltipShadow,this.tooltip.style.webkitBoxShadow=this.colors.tooltipShadow,this.tooltip.style.boxShadow=this.colors.tooltipShadow,this.container.appendChild(this.tooltip)}},{key:"showTooltip",value:function(){var s=this,h=this.hoverItem+this.firstItemId,t=Math.round(this.startX-60+(this.hoverItem-1+this.startFraction)*this.spaceBetween/this.pixelRatio),e=new Date(this.data.columns.x[h]),a=o[e.getDay()]+", "+n[e.getMonth()]+" "+e.getDate();this.tooltipDate.innerHTML=a,this.tooltipInfo.innerHTML="",this.sCharts.map(function(t){var e=s.data.columns[t][h],a=s.data.names[t],r=s.data.colors[t],n=document.createElement("div");n.style.color=r;var o=document.createElement("div");o.className="num",o.innerHTML=e;var i=document.createElement("div");i.className="label",i.innerHTML=a,n.appendChild(o),n.appendChild(i),s.tooltipInfo.appendChild(n)}),this.tooltip.style.display="block",this.tooltip.style.left="".concat(t,"px")}},{key:"hideTooltip",value:function(){this.tooltip.style.display="none"}},{key:"makeDatesObject",value:function(t,e){var a={};for(var r in t)+r%Math.pow(2,e)||(a[r]=t[r]);return a}},{key:"updateDatesObject",value:function(t,e,a){for(var r=(e-t).toFixed(5),n=Math.ceil(Object.keys(a).length*r);n>=this.dateItemsToShow+1||n<this.dateItemsToShow-2;)n>=this.dateItemsToShow+1&&(this.nthDate+=1),n<this.dateItemsToShow-2&&(this.nthDate-=1),this.newDates=this.makeDatesObject(this.allDates,this.nthDate),n=Math.ceil(Object.keys(this.newDates).length*r);this.dates||(this.dates=this.newDates)}}])&&main_chart_defineProperties(e.prototype,a),r&&main_chart_defineProperties(e,r),MainChart}();function nav_chart_typeof(t){return(nav_chart_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nav_chart_getPrototypeOf(t){return(nav_chart_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function nav_chart_assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nav_chart_setPrototypeOf(t,e){return(nav_chart_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var x=function(t){function NavChart(t){var e,a,r,n,o,i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,NavChart),a=this,r=nav_chart_getPrototypeOf(NavChart).call(this,t),e=!r||"object"!==nav_chart_typeof(r)&&"function"!=typeof r?nav_chart_assertThisInitialized(a):r,n=nav_chart_assertThisInitialized(e),i=function(){e.ctx.clearRect(0,0,e.canvas.width,e.canvas.height),e.makeAnimations(),e.sCharts.map(function(t){e.coords=e.calcChartData(e.data.columns[t],e.start,e.end),e.drawChart(e.coords,t,e.data.colors[t])}),(e.an.animFadeChart<100||e.an.animChart<100)&&requestAnimationFrame(function(){return e.update(e.start,e.end)})},(o="update")in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i,e.lineWidth=3,e.start=0,e.end=1,e.diff=0,e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nav_chart_setPrototypeOf(t,e)}(NavChart,i),NavChart}();function nav_chart_controls_typeof(t){return(nav_chart_controls_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nav_chart_controls_defineProperties(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nav_chart_controls_getPrototypeOf(t){return(nav_chart_controls_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function nav_chart_controls_assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nav_chart_controls_setPrototypeOf(t,e){return(nav_chart_controls_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function nav_chart_controls_defineProperty(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var g=function(t){function NavChartControls(t){var o,e,a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,NavChartControls),e=this,a=nav_chart_controls_getPrototypeOf(NavChartControls).call(this,t),nav_chart_controls_defineProperty(nav_chart_controls_assertThisInitialized(o=!a||"object"!==nav_chart_controls_typeof(a)&&"function"!=typeof a?nav_chart_controls_assertThisInitialized(e):a),"update",function(){o.rect=o.canvas.getBoundingClientRect(),o.startX=o.chart.startX,o.startY=o.chart.startY,o.endX=o.chart.endX,o.endY=o.chart.endY,o.startPos=o.startBarPos*o.chart.width,o.endPos=o.endBarPos*o.chart.width,o.ctx.clearRect(0,0,o.canvas.width,o.canvas.height),o.drawNavOverlay(),o.controlledChart.onNavChange(o.startBarPos,o.endBarPos)}),nav_chart_controls_defineProperty(nav_chart_controls_assertThisInitialized(o),"onMove",function(t){t.preventDefault();var e=t.touches?t.touches[0].pageX:t.x,a=t.touches?t.touches[0].pageY:t.y;if(o.mouse.x=e-o.rect.left-o.chart.startX,o.mouse.y=a+o.rect.top+o.endY-o.chart.startY,o.isHoverSlider(o.mouse.x),o.mouse.click){var r=o.mouse.x/o.chart.width;switch(o.mouse.click){case"startBarPos":if(r<0||1<r||r>o.endBarPos-o.minBarSize)return;o.startBarPos=r,requestAnimationFrame(function(){return o.update()});break;case"endBarPos":if(r<0||1<r||r<o.startBarPos+o.minBarSize)return;o.endBarPos=r,requestAnimationFrame(function(){return o.update()});break;case"centerBarPos":var n=o.centerClickOffsetX-r;if(o.startBarPos-n<0||1<o.endBarPos-n)return;o.startBarPos-=n,o.endBarPos-=n,o.centerClickOffsetX=r,requestAnimationFrame(function(){return o.update()})}}}),nav_chart_controls_defineProperty(nav_chart_controls_assertThisInitialized(o),"onDown",function(t){t.preventDefault();var e=t.touches?t.touches[0].pageX:t.x;o.mouse.x=e-o.rect.left-o.chart.startX,o.isHoverSlider(o.mouse.x),o.mouse.hover&&(o.mouse.click=o.mouse.hover,"centerBarPos"===o.mouse.hover&&(o.centerClickOffsetX=o.mouse.x/o.chart.width))}),nav_chart_controls_defineProperty(nav_chart_controls_assertThisInitialized(o),"onUp",function(t){t.preventDefault(),o.mouse.click=!1}),nav_chart_controls_defineProperty(nav_chart_controls_assertThisInitialized(o),"onLeave",function(){document.body.style.cursor="auto",o.mouse.click=!1,o.mouse.hover=!1}),nav_chart_controls_defineProperty(nav_chart_controls_assertThisInitialized(o),"onScroll",function(t){t.preventDefault()}),o.controlledChart=t.controlledChart,o.startBarPos=t.start,o.endBarPos=t.end,o.barWidth=6,o.mouse={x:void 0,y:void 0,hover:null,click:null},o.minBarSize=.1,o.clickedOnStartBar=!1,o.clickedOnEndBar=!1,o.clickedOnCenterBar=!1,o.pixelRatio=1,o}var e,a,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nav_chart_controls_setPrototypeOf(t,e)}(NavChartControls,i),e=NavChartControls,(a=[{key:"drawNavOverlay",value:function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);var t=this.startBarPos*this.chart.width+this.startX,e=this.endBarPos*this.chart.width+this.chart.startX;this.drawBoundingArea(Math.round(t),Math.round(e)),this.drawSlider(Math.round(t),Math.round(e))}},{key:"drawSlider",value:function(t,e){this.ctx.fillStyle=this.colors.sliderColor,this.ctx.fillRect(t,0,this.barWidth,this.startY),this.ctx.fillRect(e-2,0,this.barWidth,this.startY),this.ctx.fillRect(t+this.barWidth,0,e-t-this.barWidth-2,2),this.ctx.fillRect(t+this.barWidth,this.startY,e-t-this.barWidth-2,-2)}},{key:"drawBoundingArea",value:function(t,e){this.ctx.fillStyle=this.colors.navOverlayColor,this.ctx.fillRect(this.startX-1,0,t-this.startX+1,this.startY),this.ctx.fillRect(e+2,0,this.endX-e,this.startY)}},{key:"isHoverSlider",value:function(t){return this.mouse.y<0&&this.mouse.y>this.startY?(this.mouse.hover&&(document.body.style.cursor="auto"),this.mouse.hover=null,!1):0<t&&t<this.startPos-7&&t>this.endPos+this.barWidth+10&&t<this.endX?(this.mouse.hover="outOfSlidebar",document.body.style.cursor="col-resize",!0):t>this.startPos-7&&t<this.startPos+this.barWidth+10?(this.mouse.hover="startBarPos",document.body.style.cursor="col-resize",!0):t>this.endPos-7&&t<this.endPos+this.barWidth+10?(this.mouse.hover="endBarPos",document.body.style.cursor="col-resize",!0):t>=this.startPos+this.barWidth+10&&t<=this.endPos-7?(this.mouse.hover="centerBarPos",document.body.style.cursor="all-scroll",!0):(document.body.style.cursor="auto",this.mouse.hover=!1)}}])&&nav_chart_controls_defineProperties(e.prototype,a),r&&nav_chart_controls_defineProperties(e,r),NavChartControls}();var P=function(t){return document.createElement(t)},s=function(t){var i=t.data,e=t.appContainer,a=t.title||"Chart",r=i.names,n=t.start||.55,o=t.end||.9,s=!1,h=P("div");h.name=a;var c=P("h2");c.innerHTML=a;var l=P("div");l.id="main_chart_container";var u=P("div");u.id="nav_chart_container",h.appendChild(c),h.appendChild(l),h.appendChild(u);var d=P("div");d.id="controls";var f=[];for(var p in r){var v=createCheckbox(p);d.appendChild(v)}function createCheckbox(t){var e=P("div"),a=P("input");a.addEventListener("change",onCheckboxChange),a.type="checkbox",a.id=t,a.checked="true";var r=document.createTextNode(i.names[t]),n=P("label");n.htmlFor=t;var o=P("span");return o.style.borderColor=i.colors[t],P("i").innerHTML=t,n.appendChild(o),n.appendChild(r),e.appendChild(a),e.appendChild(n),f.push(t),e}h.appendChild(d);var m=P("div");m.className="nightmode_switch";var _=P("button");_.className="nightmode_button",_.innerHTML="Switch to Night Mode",_.addEventListener("click",function(t){t.preventDefault();var e=(s=!s)?"Switch to Day Mode":"Switch to Night Mode",a=s?"#344658":"#e6ecf0",r=s?"#242F3E":"#FFFFFF",n=s?"#FFFFFF":"#222222";_.innerHTML=e,document.body.style.backgroundColor=r,document.body.style.color=n,d.style.borderColor=a,y.switchNightMode(s),w.switchNightMode(s)}),m.appendChild(_),h.appendChild(m);var y=new C({name:"main_chart",container:l,appContainer:h,data:i,start:n,end:o,selectedCharts:f,ratio:.65}),b=new x({name:"nav_chart",container:u,appContainer:h,data:i,selectedCharts:f,ratio:.13}),w=new g({name:"nav_chart_controls",container:u,appContainer:h,data:[],selectedCharts:f,start:n,end:o,ratio:.13,controlledChart:y});function onCheckboxChange(t){var e=t.target,a=e.checked,r=e.id;y.updateSelectedCharts(a,r),b.updateSelectedCharts(a,r)}e.appendChild(h),y.setup(d),b.setup(d),w.setup(d),window.addEventListener("resize",function(){y.resize(),w.resize(),b.resize()})};window.addEventListener("DOMContentLoaded",function(){var e,a=new XMLHttpRequest;a.overrideMimeType("application/json"),a.open("GET","./chart_data.json",!0),a.onload=function(){var t=JSON.parse(a.responseText);e=function(t,e){var a=t[e],r=function(n){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},e=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),e.forEach(function(t){var e,a,r;e=n,r=o[a=t],a in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r})}return n}({},a,{columns:{}}),n=!0,o=!1,i=void 0;try{for(var s,h=a.columns[Symbol.iterator]();!(n=(s=h.next()).done);n=!0){var c=s.value,l=c[0];c.shift(),r.columns[l]=c}}catch(t){o=!0,i=t}finally{try{n||null==h.return||h.return()}finally{if(o)throw i}}return r}(t,4),new s({title:"Chart1",data:e,appContainer:document.getElementById("app")})},a.send()}),function(){for(var o=0,t=["ms","moz","webkit","o"],e=0;e<t.length&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[t[e]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[e]+"CancelAnimationFrame"]||window[t[e]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,e){var a=(new Date).getTime(),r=Math.max(0,16-(a-o)),n=window.setTimeout(function(){t(a+r)},r);return o=a+r,n}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}()}]);